function chatSlimScroll($timeout){return{restrict:"A",link:function(scope,element){$timeout(function(){element.slimscroll({height:"234px",railOpacity:.4})})}}}function validFile($timeout){return{require:"ngModel",link:function(scope,el,attrs,ngModel){ngModel.$render=function(){ngModel.$setViewValue(el.val())},el.bind("change",function(){scope.$apply(function(){ngModel.$render()})})}}}function slimScroll($timeout){return{restrict:"A",scope:{boxHeight:"@"},link:function(scope,element){$timeout(function(){element.slimscroll({height:scope.boxHeight,start:bottom,railOpacity:.9})})}}}function pageTitle($rootScope,$timeout){return{link:function(scope,element){var listener=function(event,toState,toParams,fromState,fromParams){var title="Skillenza";toState.data&&toState.data.pageTitle&&(title=toState.data.pageTitle),$timeout(function(){element.text(title)})};$rootScope.$on("$stateChangeStart",listener)}}}function myEnter($parse){return function(scope,element,attrs){element.bind("keydown keypress",function(event){13===event.which&&(scope.$apply(function(){scope.$eval(attrs.myEnter)}),event.preventDefault())})}}function fileModel($parse){return{restrict:"A",link:function(scope,element,attrs){var model=$parse(attrs.fileModel),modelSetter=model.assign;element.bind("change",function(){scope.$apply(function(){modelSetter(scope,element[0].files[0])})})}}}function onReadFile($parse){return{restrict:"A",scope:!1,link:function(scope,element,attrs){var fn=$parse(attrs.onReadFile);element.on("change",function(onChangeEvent){var reader=new FileReader;reader.onload=function(onLoadEvent){scope.$apply(function(){fn(scope,{$fileContent:onLoadEvent.target.result})})},reader.readAsText((onChangeEvent.srcElement||onChangeEvent.target).files[0])})}}}function sideNavigation($timeout){return{restrict:"A",link:function(scope,element){$timeout(function(){element.metisMenu()})}}}function iboxTools($timeout,ENV){return{restrict:"A",scope:!0,templateUrl:"views/common/ibox_tools.edd3cdca.html",controller:function($scope,$element){$scope.showhide=function(){var ibox=$element.closest("div.ibox"),icon=$element.find("i:first");ibox.find("div.ibox-content").slideToggle(200),icon.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),ibox.toggleClass("").toggleClass("border-bottom"),$timeout(function(){ibox.resize(),ibox.find("[id^=map-]").resize()},50)},$scope.closebox=function(){$element.closest("div.ibox").remove()},$scope.$on("showhide",function(event,data){$scope.showhide()})}}}function minimalizaSidebar($timeout){return{restrict:"A",template:'<a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="" ng-click="minimalize()"><i class="fa fa-bars"></i></a>',controller:function($scope,$element){$scope.minimalize=function(){$("body").toggleClass("mini-navbar"),!$("body").hasClass("mini-navbar")||$("body").hasClass("body-small")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(400)},200)):$("body").hasClass("fixed-sidebar")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(400)},100)):$("#side-menu").removeAttr("style")}}}}function iboxToolsFullScreen($timeout){return{restrict:"A",scope:!0,templateUrl:"views/common/ibox_tools_full_screen.dd969b3b.html",controller:function($scope,$element){$scope.showhide=function(){var ibox=$element.closest("div.ibox"),icon=$element.find("i:first");ibox.find("div.ibox-content").slideToggle(200),icon.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),ibox.toggleClass("").toggleClass("border-bottom"),$timeout(function(){ibox.resize(),ibox.find("[id^=map-]").resize()},50)},$scope.closebox=function(){$element.closest("div.ibox").remove()},$scope.fullscreen=function(){var ibox=$element.closest("div.ibox"),button=$element.find("i.fa-expand");$("body").toggleClass("fullscreen-ibox-mode"),button.toggleClass("fa-expand").toggleClass("fa-compress"),ibox.toggleClass("fullscreen"),setTimeout(function(){$(window).trigger("resize")},100)}}}}function fileread(){return{scope:{fileread:"="},link:function(scope,element,attributes){element.bind("change",function(changeEvent){scope.$apply(function(){scope.fileread=changeEvent.target.files[0]})})}}}function btstAccordion(){return{restrict:"E",transclude:!0,replace:!0,scope:{},template:"<div class='accordion' ng-transclude></div>",link:function(scope,element,attrs){var id=element.attr("id");id||(id="btst-acc"+scope.$id,element.attr("id",id));for(var arr=element.find(".accordion-toggle"),i=0;i<arr.length;i++)$(arr[i]).attr("data-parent","#"+id),$(arr[i]).attr("href","#"+id+"collapse"+i);arr=element.find(".accordion-body"),$(arr[0]).addClass("in");for(var i=0;i<arr.length;i++)$(arr[i]).attr("id",id+"collapse"+i)},controller:function(){}}}function btstPane(){return{require:"^btstAccordion",restrict:"E",transclude:!0,replace:!0,scope:{title:"@",category:"=",order:"="},template:"<div class='accordion-group' >  <div class='accordion-heading'>    <a class='accordion-toggle' data-toggle='collapse'> {{category.name}} - </a>  </div><div class='accordion-body collapse'>  <div class='accordion-inner' ng-transclude></div>  </div></div>",link:function(scope,element,attrs){scope.$watch("title",function(){element.find(".accordion-toggle").html(scope.title)})}}}function myLink(){return{scope:{enabled:"=myLink"},link:function(scope,element,attrs){element.bind("click",function(event){scope.enabled||event.preventDefault()})}}}function sparkline(){return{restrict:"A",scope:{sparkData:"=",sparkOptions:"="},link:function(scope,element,attrs){scope.$watch(scope.sparkData,function(){render()}),scope.$watch(scope.sparkOptions,function(){render()});var render=function(){$(element).sparkline(scope.sparkData,scope.sparkOptions)}}}}function markdownEditor(){return{restrict:"A",require:"ngModel",link:function(scope,element,attrs,ngModel){$(element).markdown({savable:!1,onChange:function(e){ngModel.$setViewValue(e.getContent())}})}}}angular.module("skillenza").directive("pageTitle",["$rootScope","$timeout",pageTitle]).directive("onReadFile",["$parse",onReadFile]).directive("sideNavigation",["$timeout",sideNavigation]).directive("iboxTools",["$timeout",iboxTools]).directive("fileModel",["$parse",fileModel]).directive("minimalizaSidebar",["$timeout",minimalizaSidebar]).directive("myEnter",["$parse",myEnter]).directive("iboxToolsFullScreen",["$timeout",iboxToolsFullScreen]).directive("fileread",[fileread]).directive("btstAccordion",[btstAccordion]).directive("btstPane",[btstPane]).directive("slimScroll",["$timeout",slimScroll]).directive("chatSlimScroll",["$timeout",chatSlimScroll]).directive("sparkline",[sparkline]).directive("markdownEditor",[markdownEditor]).directive("showFocus",["$timeout",function($timeout){return function(scope,element,attrs){scope.$watch(attrs.showFocus,function(newValue){$timeout(function(){newValue&&element.focus()})},!0)}}]);
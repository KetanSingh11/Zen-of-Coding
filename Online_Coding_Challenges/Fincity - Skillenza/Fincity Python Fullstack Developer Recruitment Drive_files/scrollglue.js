"object"==typeof module&&module.exports&&(module.exports="luegg.directives"),function(angular,undefined){"use strict";function createActivationState($parse,attr,scope){function unboundState(initValue){var activated=initValue;return{getValue:function(){return activated},setValue:function(value){activated=value}}}function oneWayBindingState(getter,scope){return{getValue:function(){return getter(scope)},setValue:function(){}}}function twoWayBindingState(getter,setter,scope){return{getValue:function(){return getter(scope)},setValue:function(value){value!==getter(scope)&&scope.$apply(function(){setter(scope,value)})}}}if(""!==attr){var getter=$parse(attr);return getter.assign!==undefined?twoWayBindingState(getter,getter.assign,scope):oneWayBindingState(getter,scope)}return unboundState(!0)}function createDirective(module,attrName,direction){module.directive(attrName,["$parse","$window","$timeout",function($parse,$window,$timeout){return{priority:1,restrict:"A",link:function(scope,$el,attrs){function scrollIfGlued(){activationState.getValue()&&!direction.isAttached(el)&&$timeout(function(){direction.scroll(el)})}function onScroll(){activationState.setValue(direction.isAttached(el))}var el=$el[0],activationState=createActivationState($parse,attrs[attrName],scope);$timeout(scrollIfGlued,0,!1),$el[0].hasAttribute("force-glue")||$el.on("scroll",onScroll);var hasAnchor=!1;angular.forEach($el.children(),function(child){child.hasAttribute("scroll-glue-anchor")&&(hasAnchor=!0,scope.$watch(function(){return child.offsetHeight},function(){scrollIfGlued()}))}),hasAnchor||(scope.$watch(scrollIfGlued),$window.addEventListener("resize",scrollIfGlued,!1)),$el.on("$destroy",function(){$el.unbind("scroll",onScroll)}),scope.$on("$destroy",function(){$window.removeEventListener("resize",scrollIfGlued,!1)})}}}])}var bottom={isAttached:function(el){return el.scrollTop+el.clientHeight+1>=el.scrollHeight},scroll:function(el){el.scrollTop=el.scrollHeight}},top={isAttached:function(el){return el.scrollTop<=1},scroll:function(el){el.scrollTop=0}},right={isAttached:function(el){return el.scrollLeft+el.clientWidth+1>=el.scrollWidth},scroll:function(el){el.scrollLeft=el.scrollWidth}},left={isAttached:function(el){return el.scrollLeft<=1},scroll:function(el){el.scrollLeft=0}},module=angular.module("luegg.directives",[]);createDirective(module,"scrollGlue",bottom),createDirective(module,"scrollGlueTop",top),createDirective(module,"scrollGlueBottom",bottom),createDirective(module,"scrollGlueLeft",left),createDirective(module,"scrollGlueRight",right)}(angular);